@page "/campaigns/influencer/{Id:int}"

<TwoPaneLayout>
    <LeftContent>
        <CampaignHeader ImageUrl="@_imageUrl" Title="@_title" Brand="_brand"/>
        <CampaignInfo CampaignDetails="_campaignDetails"/>
    </LeftContent>
    <RightContent>
        <MudStack>
            <CampaignDescription Description="@_description"/>
            <CampaignInfluencerRequirements Requirements="_influencerRequirements"/>
            <CampaignPlatforms Platforms="_platforms"/>
            <CampaignPlatformDeliverables Deliverables="_deliverables"/>
        </MudStack>
    </RightContent>
</TwoPaneLayout>

@code {
    [Parameter] public int Id { get; set; }

    private string? _title;
    private string? _imageUrl;
    private Brand? _brand;
    private string? _description;

    private InfluencerRequirements? _influencerRequirements;
    private List<Platform>? _platforms;
    private List<PlatformDeliverable>? _deliverables;
    private CampaignDetails? _campaignDetails;

    protected override async Task OnInitializedAsync()
    {
        await Task.Delay(10000);

        _title = "Tech gadget review";
        _imageUrl = "https://picsum.photos/300/";
        _brand = new Brand
        {
            UserName = "NextGen",
            ImageUrl = "https://picsum.photos/50/"
        };
        _description = "Join our exciting campaign to promote the latest in cutting-edge technology! We’re looking for tech-savvy influencers to review and create content around our brand-new smart gadgets, including wireless headphones, smart home assistants, and portable charging devices. Selected influencers will receive the product free of charge to showcase its features, usability, and design. Whether it's a deep-dive review video or a creative unboxing, we want your authentic voice to reach tech enthusiasts everywhere!";
        _influencerRequirements = new InfluencerRequirements
        {
            MinimumFollowers = 25_000_000,
            AverageViews = 250_000,
            Audience = "Female"
        };

        _campaignDetails = new CampaignDetails
        {
            StartDate = new DateTime(2024, 10, 1),
            EndDate = new DateTime(2024, 10, 15),
            CampaignType = "Unboxing",
            TotalCreators = 25,
            CurrentCreators = 4
        };

        _platforms =
        [
            new Platform { Icon = Icons.Custom.Brands.Instagram, Name = "Instagram" },
            new Platform { Icon = Icons.Custom.Brands.TikTok, Name = "TikTok" },
            new Platform { Icon = Icons.Custom.Brands.YouTube, Name = "YouTube" }
        ];
        _deliverables =
        [
            new PlatformDeliverable
            {
                Platform = new Platform { Icon = Icons.Custom.Brands.Instagram, Name = "Instagram" },
                ContentRequirements =
                [
                    new ContentRequirement
                    {
                        ContentType = "Story",
                        Description = "Up to 15 seconds per story, vertical format (1080 x 1920 pixels), must highlight key features of the gadget, include engaging visuals and polls or questions for interaction."
                    },

                    new ContentRequirement
                    {
                        ContentType = "Posts",
                        Description = "Square (1080 x 1080 pixels) or landscape (1080 x 566 pixels), captions limited to 2,200 characters, must include relevant hashtags and a clear call-to-action (e.g., 'Check out the full review on my blog!')."
                    },

                    new ContentRequirement
                    {
                        ContentType = "Reels",
                        Description = "Up to 60 seconds, vertical format, showcase the gadget in use, include trending audio, and provide quick tips or highlights."
                    }
                ]
            },
            new PlatformDeliverable
            {
                Platform = new Platform { Icon = Icons.Custom.Brands.TikTok, Name = "TikTok" },
                ContentRequirements =
                [
                    new ContentRequirement
                    {
                        ContentType = "Short Videos",
                        Description = "15 to 60 seconds in length, vertical format (1080 x 1920 pixels), must include music or sound clips, focus on engaging demonstrations or unboxing experiences, and follow current TikTok trends."
                    }
                ]
            },
            new PlatformDeliverable
            {
                Platform = new Platform { Icon = Icons.Custom.Brands.YouTube, Name = "YouTube" },
                ContentRequirements =
                [
                    new ContentRequirement
                    {
                        ContentType = "Long-form Videos",
                        Description = "Minimum resolution of 720p, video length of 8+ minutes, must provide in-depth reviews, comparisons, and demonstrations, and include a compelling title and description for SEO optimization."
                    },
                    new ContentRequirement
                    {
                        ContentType = "Shorts",
                        Description = "Up to 60 seconds, vertical format, should highlight the gadget's standout features quickly, engaging hook in the first few seconds, and can include popular music."
                    },
                    new ContentRequirement
                    {
                        ContentType = "Mid-Roll Ads",
                        Description = "Should be placed strategically within videos longer than 8 minutes, clearly indicated and relevant to the gadget being reviewed, ensure smooth transitions into and out of the ad segment."
                    }
                ]
            }
        ];
    }

}