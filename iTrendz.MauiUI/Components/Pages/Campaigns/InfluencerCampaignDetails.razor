@page "/campaigns/influencer/{Id:int}"
@inject ICampaignService CampaignService

<TwoPaneLayout>
    <LeftContent>
        <CampaignHeader ImageUrl="@_campaign.ImageUrl" Title="@_campaign.Title" Brand="_campaign.Brand"/>
        <CampaignInfo CampaignDetails="_campaign.CampaignDetails"/>
    </LeftContent>
    <RightContent>
        <MudStack>
            <CampaignDescription Description="@_campaign.Description"/>
            <CampaignInfluencerRequirements Requirements="_campaign.Criteria"/>
            <CampaignPlatforms Platforms="_platforms"/>
            <CampaignPlatformDeliverables Deliverables="_campaign.Deliverables"/>
        </MudStack>
    </RightContent>
</TwoPaneLayout>

@code {
    [Parameter] public int Id { get; set; }

    private Campaign _campaign;
    private List<Platform>? _platforms;

    protected override async Task OnInitializedAsync()
    {
        await Task.Delay(10000);

        _campaign = await CampaignService.GetCampaignAsync(Id);

        _platforms =
        [
            new Platform { Icon = Icons.Custom.Brands.Instagram, Name = "Instagram" },
            new Platform { Icon = Icons.Custom.Brands.TikTok, Name = "TikTok" },
            new Platform { Icon = Icons.Custom.Brands.YouTube, Name = "YouTube" }
        ];
    }

}